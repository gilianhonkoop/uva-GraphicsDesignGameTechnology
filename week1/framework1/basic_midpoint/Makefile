# Computer Graphics, Assignment 1, Bresenham's Midpoint Line-Algorithm
#
# Filename ........ Makefile
# Description ..... Type 'make all' at the prompt to build the project,
#                   and then './main' to execute.
# Created by ...... Jurgen Sturm
#
#

#clear&set our suffixes
.SUFFIXES:
.SUFFIXES: .c .o #.cpp

CC=gcc
CFLAGS=$(shell sdl2-config --cflags) -W -Wall -Werror -std=c99 -pedantic-errors
#SOURCES=$(shell ls *.c *.c??)
UNAME=$(shell uname -s)

ifeq ($(UNAME), Darwin)
LDFLAGS=$(shell sdl2-config --libs) -lm -framework GLUT -framework OpenGL -framework Cocoa
else
LDFLAGS=$(shell sdl2-config --libs) -lm -lGL
endif


all: main

main: main.o init.o mla.o
	$(CC) -o main main.o init.o mla.o $(CFLAGS) $(LDFLAGS)

main.o: main.c
	$(CC) $(CFLAGS) -c -o main.o main.c

init.o: init.c init.h
	$(CC) $(CFLAGS) -c -o init.o init.c

mla.o: mla.c mla.h
	$(CC) $(CFLAGS) -c -o mla.o mla.c

#this one also removes backup files generated by Emacs
realclean: clean
	rm -f *~

#`normal' clean
clean: realclean
	rm -f *.o
	rm -f main
